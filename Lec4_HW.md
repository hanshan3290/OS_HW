# lab1 SPOC思考题

1.描述符特权级DPL、当前特权级CPL和请求特权级RPL的含义是什么？在哪些寄存器中这些字段？对应的访问条件是什么？ (challenge)写出一些简单的小程序（c or asm）来体现这些特权级的区别和联系。
 
> CPL: 	当前正在执行的代码所在的段的特权级。存在于cs寄存器的低两位。
> 
> RPL:		进程对段访问的请求权限，每个段选择子有自己的RPL，它说明的是进程对段访问的请求权限。存在于段选择子中。
> 
> DPL:		规定访问该段的权限级别。 存在于段描述符中。
> 
> 访问条件:	当进程访问一个段时，需要进程特权级检查，一般要求DPL >= max {CPL, RPL} 
> 




2.比较不同特权级的中断切换时的堆栈变化差别；(challenge)写出一些简单的小程序（c or asm）来显示出不同特权级的的中断切换的堆栈变化情况。

> 内核态中断时，不发生栈切换。栈上需要保存Error Code、EIP、CS、EFLAGS。
> 
> 用户态中断时，发生栈切换。栈上需要保存Error Code、EIP、CS、EFLAGS、ESP、SS。
